<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <title>Order Details</title>
        <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
        <link href="../resources/css/css_admin/styles.css" rel="stylesheet" />
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <style type="text/css">
            body{
                background:#eee;

            }
            .card {
                box-shadow: 0 20px 27px 0 rgb(0 0 0 / 5%);
            }
            .card {
                position: relative;
                display: flex;
                flex-direction: column;
                min-width: 0;
                word-wrap: break-word;
                background-color: #fff;
                background-clip: border-box;
                border: 0 solid rgba(0,0,0,.125);
                border-radius: 1rem;
            }
            .text-reset {
                --bs-text-opacity: 1;
                color: inherit!important;
            }
            a {
                color: #5465ff;
                text-decoration: none;
            }
            @media print {

                head title {
                    display: none;
                }
            }
        </style>
    </h:head>
    <h:body class="sb-nav-fixed">
        <div id="layoutSidenav">
            <ui:include src="_adminheader.xhtml" />
            <div id="layoutSidenav">
                <ui:include src="_sidenav.xhtml" />
                <div id="layoutSidenav_content">
                    <main  id="printableArea">
                        <div class="container-fluid">
                            <div class="container">
                                <div class="d-flex justify-content-between align-items-center py-3">
                                    <h2 class="h5 mb-0"><a href="#" class="text-muted"></a> Order #${ingredientsMB.orderNo}</h2>
                                </div>
                                <div class="d-flex">
                                    <button id="printInvoiceBtn" class="btn btn-link p-0 me-3 d-none d-lg-block btn-icon-text">
                                        <i class="fa fa-print"></i>
                                    </button>
                                </div>
                                <div class="row">
                                    <div class="col-lg-7">
                                        <div class="card mb-4  ">
                                            <div class="card-body" style="width: 1000px"> 
                                                <h5>Ingredient List</h5>
                                                <table class="table table-borderless">
                                                    <tbody>
                                                        <ui:repeat value="#{ingredientsMB.calDishIngredients()}" var="item1">
                                                            <tr>
                                                                <td>
                                                                    <div class="d-flex mb-2">
                                                                        <div class="flex-lg-grow-1 ms-3">
                                                                            <h6 class="small mb-0"><a href="#" class="text-reset">${item1.ingredientID.name}</a></h6>
                                                                        </div>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="d-flex mb-2">
                                                                        <div class="flex-lg-grow-1 ms-3">
                                                                            <p class="small mb-0">${item1.quantity} ${item1.ingredientID.unit}</p>
                                                                        </div>
                                                                    </div>
                                                                </td>

                                                            </tr>
                                                        </ui:repeat>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div> 
                                    </div>
                                </div>
                            </div>
                        </div>

                    </main>

                </div>
            </div>
            <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
            <script type="text/javascript">

            </script>
            <script>
                document.getElementById('printInvoiceBtn').addEventListener('click', function () {
                    var printContents = document.getElementById('printableArea').innerHTML;
                    var originalContents = document.body.innerHTML;

                    document.body.innerHTML = printContents;

                    window.print();

                    document.body.innerHTML = originalContents;
                });
            </script>

        </div>
    </h:body>
</html>
